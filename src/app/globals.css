@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
  
  /* shadcn/ui CSS variables */
  --border: 214 32% 91%;
  --input: 214 32% 91%;
  --ring: 221 83% 53%;
  --radius: 0.5rem;
  --card: 0 0% 100%;
  --card-foreground: 222 84% 5%;
  --popover: 0 0% 100%;
  --popover-foreground: 222 84% 5%;
  --primary: 221 83% 53%;
  --primary-foreground: 210 40% 98%;
  --secondary: 210 40% 96%;
  --secondary-foreground: 222 47% 11%;
  --muted: 210 40% 96%;
  --muted-foreground: 215 16% 47%;
  --accent: 210 40% 96%;
  --accent-foreground: 222 47% 11%;
  --destructive: 0 84% 60%;
  --destructive-foreground: 210 40% 98%;
  
  /* Animation variables */
  --animation-speed-slow: 0.8s;
  --animation-speed-normal: 0.4s;
  --animation-speed-fast: 0.2s;
  --animation-easing: cubic-bezier(0.4, 0, 0.2, 1);
  --animation-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
  
  /* Color animation variables */
  --color-attention-high: #dc2626;
  --color-attention-medium: #f59e0b;
  --color-attention-low: #3b82f6;
  --color-flow-primary: #8b5cf6;
  --color-flow-secondary: #06b6d4;
  --color-success: #10b981;
  --color-warning: #f59e0b;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
    
    /* shadcn/ui CSS variables for dark mode */
    --border: 217 33% 17%;
    --input: 217 33% 17%;
    --ring: 224 76% 48%;
    --card: 224 71% 4%;
    --card-foreground: 213 31% 91%;
    --popover: 224 71% 4%;
    --popover-foreground: 215 21% 91%;
    --primary: 210 40% 98%;
    --primary-foreground: 222 47% 11%;
    --secondary: 217 33% 17%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217 33% 17%;
    --muted-foreground: 215 20% 65%;
    --accent: 216 34% 17%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 63% 31%;
    --destructive-foreground: 210 40% 98%;
  }
}

/* Accessibility - Respect prefers-reduced-motion */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Animation Keyframes */

/* Token splitting and appearance */
@keyframes tokenSplit {
  0% {
    opacity: 0;
    transform: scale(0.3) translateY(-10px);
  }
  60% {
    transform: scale(1.1) translateY(0);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes tokenHighlight {
  0% { 
    background-color: currentColor; 
    transform: scale(1);
  }
  50% { 
    background-color: #3b82f6; 
    transform: scale(1.05);
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
  }
  100% { 
    background-color: currentColor; 
    transform: scale(1);
  }
}

@keyframes tokenSelection {
  0% {
    transform: scale(1);
    box-shadow: 0 0 0 rgba(59, 130, 246, 0);
  }
  50% {
    transform: scale(1.05);
    box-shadow: 0 0 15px rgba(59, 130, 246, 0.4);
  }
  100% {
    transform: scale(1);
    box-shadow: 0 0 8px rgba(59, 130, 246, 0.3);
  }
}

/* Matrix animations */
@keyframes matrixCellFill {
  0% {
    opacity: 0;
    transform: scale(0.5);
    background-color: transparent;
  }
  50% {
    transform: scale(1.1);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes matrixRowHighlight {
  0% {
    box-shadow: inset 0 0 0 0 rgba(59, 130, 246, 0);
  }
  100% {
    box-shadow: inset 4px 0 0 0 rgba(59, 130, 246, 0.8);
  }
}

@keyframes dotProductPulse {
  0%, 100% {
    background-color: rgba(59, 130, 246, 0.1);
    transform: scale(1);
  }
  50% {
    background-color: rgba(59, 130, 246, 0.3);
    transform: scale(1.02);
  }
}

/* Softmax transformation */
@keyframes softmaxTransform {
  0% {
    background-color: var(--original-color);
    transform: scaleX(1);
  }
  50% {
    transform: scaleX(1.05);
    filter: brightness(1.2);
  }
  100% {
    transform: scaleX(1);
  }
}

@keyframes probabilityFlow {
  0% {
    width: 0%;
    opacity: 0.5;
  }
  100% {
    opacity: 1;
  }
}

/* Information flow animations */
@keyframes dataFlow {
  0% {
    transform: translateX(-100%);
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: translateX(100%);
    opacity: 0;
  }
}

@keyframes vectorTransform {
  0% {
    opacity: 0.5;
    transform: translateY(10px) scale(0.95);
  }
  50% {
    transform: translateY(-2px) scale(1.02);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Step transitions */
@keyframes slideInFromRight {
  0% {
    transform: translateX(30px);
    opacity: 0;
  }
  100% {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes slideInFromLeft {
  0% {
    transform: translateX(-30px);
    opacity: 0;
  }
  100% {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes fadeInUp {
  0% {
    transform: translateY(20px);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes expandHeight {
  0% {
    max-height: 0;
    opacity: 0;
  }
  100% {
    max-height: 500px;
    opacity: 1;
  }
}

/* Progress and loading animations */
@keyframes progressFill {
  0% {
    width: 0%;
    background: linear-gradient(90deg, #3b82f6, #8b5cf6);
  }
  100% {
    background: linear-gradient(90deg, #8b5cf6, #06b6d4);
  }
}

@keyframes loadingSpinner {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@keyframes loadingDots {
  0%, 80%, 100% {
    transform: scale(0.8);
    opacity: 0.5;
  }
  40% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Success and celebration animations */
@keyframes celebration {
  0% {
    transform: scale(1);
    filter: brightness(1);
  }
  20% {
    transform: scale(1.1);
    filter: brightness(1.3);
  }
  40% {
    transform: scale(0.95);
  }
  60% {
    transform: scale(1.05);
  }
  80% {
    transform: scale(0.98);
  }
  100% {
    transform: scale(1);
    filter: brightness(1);
  }
}

@keyframes checkmark {
  0% {
    stroke-dashoffset: 20;
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    stroke-dashoffset: 0;
    opacity: 1;
  }
}

@keyframes confetti {
  0% {
    transform: translateY(0) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(-100px) rotate(720deg);
    opacity: 0;
  }
}

/* Hover and interaction effects */
@keyframes buttonHover {
  0% {
    transform: translateY(0);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }
  100% {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }
}

@keyframes cardHover {
  0% {
    transform: translateY(0);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }
  100% {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  }
}

@keyframes ripple {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  100% {
    transform: scale(4);
    opacity: 0;
  }
}

/* Multi-head animation */
@keyframes headConcatenation {
  0% {
    transform: translateX(-20px);
    opacity: 0.5;
  }
  50% {
    transform: translateX(0);
    opacity: 0.8;
  }
  100% {
    opacity: 1;
  }
}

/* Attention weight visualization */
@keyframes attentionWeightPulse {
  0%, 100% {
    opacity: 0.7;
  }
  50% {
    opacity: 1;
    filter: brightness(1.2);
  }
}

/* Utility Classes */

.animate-token-split {
  animation: tokenSplit var(--animation-speed-normal) var(--animation-easing);
}

.animate-token-highlight {
  animation: tokenHighlight 0.6s var(--animation-easing);
}

.animate-token-selection {
  animation: tokenSelection 0.3s var(--animation-easing);
}

.animate-matrix-fill {
  animation: matrixCellFill var(--animation-speed-fast) var(--animation-easing);
}

.animate-matrix-row-highlight {
  animation: matrixRowHighlight var(--animation-speed-fast) var(--animation-easing) forwards;
}

.animate-dot-product {
  animation: dotProductPulse 1s var(--animation-easing) infinite;
}

.animate-softmax {
  animation: softmaxTransform var(--animation-speed-normal) var(--animation-easing);
}

.animate-data-flow {
  animation: dataFlow 2s linear infinite;
}

.animate-vector-transform {
  animation: vectorTransform var(--animation-speed-normal) var(--animation-easing);
}

.animate-slide-in-right {
  animation: slideInFromRight var(--animation-speed-normal) var(--animation-easing);
}

.animate-slide-in-left {
  animation: slideInFromLeft var(--animation-speed-normal) var(--animation-easing);
}

.animate-fade-in-up {
  animation: fadeInUp var(--animation-speed-normal) var(--animation-easing);
}

.animate-expand-height {
  animation: expandHeight var(--animation-speed-normal) var(--animation-easing);
}

.animate-progress-fill {
  animation: progressFill var(--animation-speed-slow) var(--animation-easing);
}

.animate-loading-spinner {
  animation: loadingSpinner 1s linear infinite;
}

.animate-loading-dots {
  animation: loadingDots 1.4s ease-in-out infinite;
}

.animate-celebration {
  animation: celebration 0.8s var(--animation-bounce);
}

.animate-button-hover:hover {
  animation: buttonHover 0.2s var(--animation-easing) forwards;
}

.animate-card-hover:hover {
  animation: cardHover 0.3s var(--animation-easing) forwards;
}

.animate-head-concat {
  animation: headConcatenation var(--animation-speed-normal) var(--animation-easing);
}

.animate-attention-pulse {
  animation: attentionWeightPulse 2s ease-in-out infinite;
}

/* Progressive UI animations */
@keyframes slideUp {
  0% {
    transform: translateY(20px);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes fadeIn {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

@keyframes scaleIn {
  0% {
    transform: scale(0.9);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.animate-slide-up {
  animation: slideUp 0.4s ease-out;
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out;
}

.animate-scale-in {
  animation: scaleIn 0.3s ease-out;
}

/* Animation delay utilities */
.animation-delay-100 { animation-delay: 0.1s; }
.animation-delay-200 { animation-delay: 0.2s; }
.animation-delay-300 { animation-delay: 0.3s; }
.animation-delay-500 { animation-delay: 0.5s; }
.animation-delay-700 { animation-delay: 0.7s; }
.animation-delay-1000 { animation-delay: 1s; }

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}
